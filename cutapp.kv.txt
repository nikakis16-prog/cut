#:kivy 2.3.0

<CutRoot@BoxLayout>:
    orientation: "vertical"
    padding: 10
    spacing: 10

    BoxLayout:
        size_hint_y: None
        height: "140dp"
        spacing: 10

        BoxLayout:
            orientation: "vertical"
            Label: text: "Î Î»Î¬Ï„Î¿Ï‚ Ï†ÏÎ»Î»Î¿Ï… (mm)"; font_size: "14sp"
            TextInput: id: sheet_w; text: "2800"; multiline: False
            Label: text: "ÎÏˆÎ¿Ï‚ Ï†ÏÎ»Î»Î¿Ï… (mm)"; font_size: "14sp"
            TextInput: id: sheet_h; text: "2070"; multiline: False

        BoxLayout:
            orientation: "vertical"
            Label: text: "Kerf (mm)"; font_size: "14sp"
            TextInput: id: kerf; text: "3"; multiline: False
            Label: text: "Attempts"; font_size: "14sp"
            TextInput: id: attempts; text: "50"; multiline: False

        BoxLayout:
            orientation: "vertical"
            Label: text: "Rotation allowed?"; font_size: "14sp"
            CheckBox: id: rot_allowed; active: True
            Label: text: "Strategy"; font_size: "14sp"
            Spinner: id: strategy; text: "BSSF"; values: ["BSSF","BAF","BLSF"]

    BoxLayout:
        size_hint_y: None
        height: "100dp"
        spacing: 10

        BoxLayout:
            orientation: "vertical"
            Label: text: "Î Î»Î¬Ï„Î¿Ï‚ ÎºÎ¿Î¼Î¼Î±Ï„Î¹Î¿Ï"; font_size: "14sp"
            TextInput: id: pw; text: ""; multiline: False

        BoxLayout:
            orientation: "vertical"
            Label: text: "ÎÏˆÎ¿Ï‚ ÎºÎ¿Î¼Î¼Î±Ï„Î¹Î¿Ï"; font_size: "14sp"
            TextInput: id: ph; text: ""; multiline: False

        BoxLayout:
            orientation: "vertical"
            Label: text: "Î Î¿ÏƒÏŒÏ„Î·Ï„Î±"; font_size: "14sp"
            TextInput: id: pq; text: "1"; multiline: False

        Button:
            text: "Î ÏÏŒÏƒÎ¸ÎµÏƒÎµ ÎºÎ¿Î¼Î¼Î¬Ï„Î¹"
            on_release: app.add_piece()

    # Î›Î¯ÏƒÏ„Î± Ï„ÎµÎ¼Î±Ï‡Î¯Ï‰Î½
    BoxLayout:
        size_hint_y: None
        height: "110dp"
        spacing: 10

        BoxLayout:
            orientation: "vertical"
            size_hint_x: 0.7
            Label: text: "Î›Î¯ÏƒÏ„Î± Ï„ÎµÎ¼Î±Ï‡Î¯Ï‰Î½"; font_size: "14sp"
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                GridLayout:
                    id: piece_list
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height

        BoxLayout:
            orientation: "vertical"
            size_hint_x: 0.3
            Button:
                text: "Save Job"
                size_hint_y: None
                height: "34dp"
                on_release: app.save_job()
            Button:
                text: "Load Job"
                size_hint_y: None
                height: "34dp"
                on_release: app.load_job()
            Button:
                text: "Clear list"
                size_hint_y: None
                height: "34dp"
                on_release: app.clear_pieces()

    # Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚
    Button:
        size_hint_y: None
        height: "48dp"
        text: "Î¥Î ÎŸÎ›ÎŸÎ“Î™Î£Î•"
        on_release: app.run_optimizer()

    # ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· / status
    Label:
        id: summary_label
        text: "Î”ÎµÎ½ Î­Ï‡ÎµÎ¹ Î³Î¯Î½ÎµÎ¹ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î±ÎºÏŒÎ¼Î±."
        size_hint_y: None
        height: "40dp"
        font_size: "14sp"

    # Export ÏŒÎ»Ï‰Î½ / Share ÏŒÎ»Ï‰Î½
    BoxLayout:
        size_hint_y: None
        height: "48dp"
        spacing: 10

        Button:
            id: export_all_btn
            text: "ğŸ’¾ Export ÎŸÎ›Î‘ Ï„Î± Ï†ÏÎ»Î»Î± ÏƒÎµ PNG"
            disabled: True
            on_release: app.export_all_png()

        Button:
            id: share_all_btn
            text: "ğŸ“¤ Share ÎŸÎ›Î‘ Ï„Î± PNG"
            disabled: True
            on_release: app.share_all_png()

    # Scroll Ï€ÎµÏÎ¹Î¿Ï‡Î® Î¼Îµ Ï„Î± Ï†ÏÎ»Î»Î±
    ScrollView:
        size_hint_y: 1
        do_scroll_x: True
        do_scroll_y: True
        GridLayout:
            id: sheets_container
            cols: 1
            size_hint_y: None
            height: self.minimum_height
            spacing: 20
